<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Rock Paper Scissors</title>
  </head>
  <body>
    <p>Rock Paper Scissors</p>
    <p>
      <button onclick="choosePlay('Rock');">Rock</button>
      <button onclick="choosePlay('Paper');">Paper</button>
      <button onclick="choosePlay('Scissors');">Scissors</button>
      <button
        onclick="scoreCard.wins=0; scoreCard.losses=0; scoreCard.ties=0;  alert(`Scorecard reset\n
        Wins: ${scoreCard.wins} , Losses: ${scoreCard.losses},
        Ties: ${scoreCard.ties}`);"
      >
        Reset Score
      </button>
    </p>

    <script>
      let scoreCard = {
        wins: 0,
        losses: 0,
        ties: 0,
      };

      // local storage only takes string
      const savedScore = localStorage.getItem("score");
      if (savedScore) {
        scoreCard = JSON.parse(savedScore);
      }

      function chooseRandom() {
        const randomNumber = Math.random();
        let computerMove = "";
        if (randomNumber >= 0 && randomNumber < 1 / 3) {
          computerMove = "Rock";
        } else if (randomNumber >= 1 / 3 && randomNumber < 2 / 3) {
          computerMove = "Paper";
        } else {
          computerMove = "Scissors";
        }

        return computerMove;
      }

      function choosePlay(option) {
        let computerOption = chooseRandom();
        if (option === computerOption) {
          scoreCard.ties++;
          alert(`You Chose ${option}. Computer Chose ${computerOption}. Tie\n
          Wins: ${scoreCard.wins} , Losses: ${scoreCard.losses},
          Ties: ${scoreCard.ties}
          `);
        } else {
          if (option === "Rock") {
            if (computerOption === "Paper") {
              scoreCard.losses++;
              alert(
                `You Chose ${option}. Computer Chose ${computerOption}. You Lose\n
          Wins: ${scoreCard.wins} , Losses: ${scoreCard.losses},
          Ties: ${scoreCard.ties} `
              );
            } else {
              scoreCard.wins++;
              alert(
                `You Chose ${option}. Computer Chose ${computerOption}. You Win\n
          Wins: ${scoreCard.wins} , Losses: ${scoreCard.losses},
          Ties: ${scoreCard.ties} `
              );
            }
          } else if (option === "Paper") {
            if (computerOption === "Rock") {
              scoreCard.wins++;
              alert(
                `You Chose ${option}. Computer Chose ${computerOption}. You Win\n
          Wins: ${scoreCard.wins} , Losses: ${scoreCard.losses},
          Ties: ${scoreCard.ties} `
              );
            } else {
              scoreCard.losses++;
              alert(
                `You Chose ${option}. Computer Chose ${computerOption}. You Lose\n
          Wins: ${scoreCard.wins} , Losses: ${scoreCard.losses},
          Ties: ${scoreCard.ties} `
              );
            }
          } else {
            if (computerOption === "Rock") {
              scoreCard.losses++;
              alert(
                `You Chose ${option}. Computer Chose ${computerOption}. You Lose\n
          Wins: ${scoreCard.wins} , Losses: ${scoreCard.losses},
          Ties: ${scoreCard.ties} `
              );
            } else {
              scoreCard.wins++;
              alert(
                `You Chose ${option}. Computer Chose ${computerOption}. You Win\n
          Wins: ${scoreCard.wins} , Losses: ${scoreCard.losses},
          Ties: ${scoreCard.ties} `
              );
            }
          }
        }
        localStorage.setItem("score", JSON.stringify(scoreCard));
      }
    </script>
  </body>
</html>
